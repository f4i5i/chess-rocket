import React from 'react';
import { formatTime } from '../../utils/chessHelper';

const SessionStats = ({ stats, averageTime }) => {
  return (
    <div className="w-[402px] h-[335px] bg-white rounded-[25px]" style={{ border: '1.5px solid rgba(123, 123, 123, 0.1)' }}>
      {/* Title */}
      <div className="px-[22px] pt-[23px] pb-[14px]">
        <h3 className="font-semibold text-xl leading-8 tracking-[-0.01em] text-[#1A1D1F]" style={{ fontFamily: 'Inter' }}>
          Current Session
        </h3>
      </div>

      {/* Solved Row */}
      <div className="w-full h-16 flex items-center justify-between px-[30px]" style={{ borderBottom: '1px solid #EFEFEF' }}>
        <div className="flex items-center gap-2">
          <svg className="w-[37px] h-[37px]" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_70_5118)">
              <path fillRule="evenodd" clipRule="evenodd" d="M18.5 37C8.28222 37 0 28.7178 0 18.5C0 8.28222 8.28222 0 18.5 0C28.7178 0 37 8.28222 37 18.5C37 28.7178 28.7178 37 18.5 37ZM17.1772 20.3731L24.1413 26.4515H28.7548L24.7264 22.9342C26.118 22.3604 27.2679 21.3223 27.9804 19.9963C28.6929 18.6704 28.924 17.1386 28.6345 15.6614C28.3508 14.1847 27.5621 12.8526 26.4037 11.8938C25.2453 10.9349 23.7893 10.409 22.2856 10.4062H17.1761L20.661 13.446H22.2867C23.2025 13.4488 24.0797 13.8151 24.7254 14.4645C25.3711 15.1139 25.7325 15.9932 25.73 16.909C25.7325 17.8248 25.3711 18.7041 24.7254 19.3535C24.0797 20.0029 23.2025 20.3692 22.2867 20.372H17.1761L17.1772 20.3731ZM19.6713 16.4881L12.7107 10.4062H8.09722L12.1221 13.9247C10.7305 14.4985 9.58067 15.5367 8.86816 16.8626C8.15565 18.1885 7.92449 19.7204 8.214 21.1975C8.49769 22.6741 9.28623 24.006 10.4444 24.9648C11.6026 25.9236 13.0583 26.4496 14.5618 26.4527H19.6701L16.1875 23.4141H14.5607C13.6449 23.4113 12.7677 23.0449 12.122 22.3955C11.4762 21.7461 11.1149 20.8669 11.1173 19.9511C11.1149 19.0353 11.4762 18.156 12.122 17.5066C12.7677 16.8572 13.6449 16.4909 14.5607 16.4881H19.6713Z" fill="#32AE60"/>
              <circle cx="18.5" cy="18.4609" r="17.9609" fill="#32AE60"/>
              <g clipPath="url(#clip1_70_5118)">
                <path d="M18.9963 25.1615C22.6769 25.1615 25.6606 22.1778 25.6606 18.4972C25.6606 14.8166 22.6769 11.8329 18.9963 11.8329C15.3157 11.8329 12.332 14.8166 12.332 18.4972C12.332 22.1778 15.3157 25.1615 18.9963 25.1615Z" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M16.998 18.4972L18.3309 19.83L20.9966 17.1643" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
              </g>
            </g>
            <defs>
              <clipPath id="clip0_70_5118">
                <rect width="37" height="37" fill="white"/>
              </clipPath>
              <clipPath id="clip1_70_5118">
                <rect width="15.9943" height="15.9943" fill="white" transform="translate(11 10.5)"/>
              </clipPath>
            </defs>
          </svg>
          <span className="font-semibold text-sm leading-6 tracking-[-0.01em] text-[#000000]" style={{ fontFamily: 'Inter' }}>
            Solved
          </span>
        </div>
        <span className="font-bold text-lg leading-[27px] text-right text-[#101010]" style={{ fontFamily: 'Manrope' }}>
          {stats.solved}
        </span>
      </div>

      {/* Streak Row */}
      <div className="w-full h-16 flex items-center justify-between px-[30px]" style={{ borderBottom: '1px solid #EFEFEF' }}>
        <div className="flex items-center gap-2">
          <svg className="w-[37px] h-[37px]" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_70_5132)">
              <path fillRule="evenodd" clipRule="evenodd" d="M18.5 37C8.28222 37 0 28.7178 0 18.5C0 8.28222 8.28222 0 18.5 0C28.7178 0 37 8.28222 37 18.5C37 28.7178 28.7178 37 18.5 37ZM17.1772 20.3731L24.1413 26.4515H28.7548L24.7264 22.9342C26.118 22.3604 27.2679 21.3223 27.9804 19.9963C28.6929 18.6704 28.924 17.1386 28.6345 15.6614C28.3508 14.1847 27.5621 12.8526 26.4037 11.8938C25.2453 10.9349 23.7893 10.409 22.2856 10.4062H17.1761L20.661 13.446H22.2867C23.2025 13.4488 24.0797 13.8151 24.7254 14.4645C25.3711 15.1139 25.7325 15.9932 25.73 16.909C25.7325 17.8248 25.3711 18.7041 24.7254 19.3535C24.0797 20.0029 23.2025 20.3692 22.2867 20.372H17.1761L17.1772 20.3731ZM19.6713 16.4881L12.7107 10.4062H8.09722L12.1221 13.9247C10.7305 14.4985 9.58067 15.5367 8.86816 16.8626C8.15565 18.1885 7.92449 19.7204 8.214 21.1975C8.49769 22.6741 9.28623 24.006 10.4444 24.9648C11.6026 25.9236 13.0583 26.4496 14.5618 26.4527H19.6701L16.1875 23.4141H14.5607C13.6449 23.4113 12.7677 23.0449 12.122 22.3955C11.4762 21.7461 11.1149 20.8669 11.1173 19.9511C11.1149 19.0353 11.4762 18.156 12.122 17.5066C12.7677 16.8572 13.6449 16.4909 14.5607 16.4881H19.6713Z" fill="#1A1D1F"/>
              <circle cx="18.5" cy="18.4609" r="17.9609" fill="#1A1D1F"/>
              <g clipPath="url(#clip1_70_5132)">
                <path d="M17.4903 26.5C17.2719 26.4992 17.0562 26.451 16.8583 26.3587C16.5349 26.2147 16.2753 25.9577 16.128 25.6359C15.9807 25.314 15.9559 24.9495 16.0583 24.6107L17.0989 21.1667H14.6469C14.3345 21.1671 14.0264 21.0943 13.7472 20.9541C13.468 20.8139 13.2255 20.6103 13.0392 20.3596C12.8529 20.1088 12.7279 19.8179 12.6742 19.5102C12.6206 19.2024 12.6398 18.8864 12.7303 18.5874L14.7463 11.9207C14.8692 11.5084 15.1225 11.147 15.4682 10.8908C15.8139 10.6347 16.2333 10.4975 16.6636 10.5H19.1256C19.4054 10.5003 19.6811 10.5683 19.9289 10.6982C20.1768 10.8281 20.3895 11.0161 20.5489 11.2461C20.7082 11.4761 20.8096 11.7413 20.8442 12.019C20.8788 12.2967 20.8457 12.5786 20.7476 12.8407L19.6256 15.8334H21.3303C21.6936 15.8333 22.0502 15.9323 22.3615 16.1196C22.6729 16.307 22.9273 16.5756 23.0975 16.8966C23.2677 17.2177 23.3472 17.579 23.3275 17.9419C23.3078 18.3047 23.1896 18.6553 22.9856 18.956L18.7189 25.8227C18.587 26.0293 18.4055 26.1995 18.1909 26.3178C17.9762 26.4361 17.7354 26.4988 17.4903 26.5ZM16.6636 11.8334C16.5204 11.8332 16.381 11.8792 16.266 11.9644C16.151 12.0497 16.0665 12.1697 16.0249 12.3067L14.0089 18.9734C13.9788 19.073 13.9723 19.1783 13.9901 19.2808C14.008 19.3834 14.0495 19.4803 14.1115 19.5639C14.1736 19.6475 14.2543 19.7154 14.3473 19.7622C14.4402 19.809 14.5429 19.8334 14.6469 19.8334H17.9969C18.101 19.8334 18.2037 19.8577 18.2966 19.9045C18.3896 19.9513 18.4703 20.0192 18.5323 20.1028C18.5944 20.1864 18.6359 20.2834 18.6538 20.3859C18.6716 20.4885 18.6651 20.5938 18.6349 20.6934L17.3369 24.988C17.3309 25.0038 17.3283 25.0207 17.3292 25.0376C17.33 25.0545 17.3344 25.071 17.342 25.0861C17.3495 25.1012 17.3602 25.1146 17.3732 25.1253C17.3862 25.1361 17.4014 25.1441 17.4176 25.1487C17.4323 25.1581 17.4489 25.1644 17.4662 25.1671C17.4835 25.1697 17.5012 25.1687 17.5181 25.1641C17.535 25.1596 17.5507 25.1515 17.5643 25.1404C17.5779 25.1294 17.589 25.1156 17.5969 25.1L21.8636 18.2334C21.9382 18.1322 21.9827 18.0119 21.9919 17.8865C22.0011 17.7611 21.9747 17.6357 21.9156 17.5247C21.8609 17.4166 21.7772 17.3258 21.6738 17.2626C21.5704 17.1993 21.4515 17.1661 21.3303 17.1667H18.6636C18.5559 17.1668 18.4497 17.1407 18.3542 17.0908C18.2587 17.0408 18.1768 16.9685 18.1154 16.88C18.054 16.7914 18.0149 16.6893 18.0016 16.5824C17.9883 16.4755 18.0011 16.3669 18.0389 16.266L19.4989 12.3727C19.5214 12.3123 19.5289 12.2475 19.5209 12.1836C19.5129 12.1197 19.4895 12.0586 19.4529 12.0057C19.4162 11.9528 19.3673 11.9094 19.3104 11.8794C19.2534 11.8494 19.19 11.8336 19.1256 11.8334H16.6636Z" fill="white"/>
              </g>
            </g>
            <defs>
              <clipPath id="clip0_70_5132">
                <rect width="37" height="37" fill="white"/>
              </clipPath>
              <clipPath id="clip1_70_5132">
                <rect width="16" height="16" fill="white" transform="translate(10 10.5)"/>
              </clipPath>
            </defs>
          </svg>
          <span className="font-semibold text-sm leading-6 tracking-[-0.01em] text-[#000000]" style={{ fontFamily: 'Inter' }}>
            Streak
          </span>
        </div>
        <span className="font-bold text-lg leading-[27px] text-right text-[#101010]" style={{ fontFamily: 'Manrope' }}>
          {stats.streak}
        </span>
      </div>

      {/* Rating Row */}
      <div className="w-full h-16 flex items-center justify-between px-[30px]">
        <div className="flex items-center gap-2">
          <svg className="w-[37px] h-[37px]" viewBox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clipPath="url(#clip0_70_5144)">
              <path fillRule="evenodd" clipRule="evenodd" d="M18.5 37C8.28222 37 0 28.7178 0 18.5C0 8.28222 8.28222 0 18.5 0C28.7178 0 37 8.28222 37 18.5C37 28.7178 28.7178 37 18.5 37ZM17.1772 20.3731L24.1413 26.4515H28.7548L24.7264 22.9342C26.118 22.3604 27.2679 21.3223 27.9804 19.9963C28.6929 18.6704 28.924 17.1386 28.6345 15.6614C28.3508 14.1847 27.5621 12.8526 26.4037 11.8938C25.2453 10.9349 23.7893 10.409 22.2856 10.4062H17.1761L20.661 13.446H22.2867C23.2025 13.4488 24.0797 13.8151 24.7254 14.4645C25.3711 15.1139 25.7325 15.9932 25.73 16.909C25.7325 17.8248 25.3711 18.7041 24.7254 19.3535C24.0797 20.0029 23.2025 20.3692 22.2867 20.372H17.1761L17.1772 20.3731ZM19.6713 16.4881L12.7107 10.4062H8.09722L12.1221 13.9247C10.7305 14.4985 9.58067 15.5367 8.86816 16.8626C8.15565 18.1885 7.92449 19.7204 8.214 21.1975C8.49769 22.6741 9.28623 24.006 10.4444 24.9648C11.6026 25.9236 13.0583 26.4496 14.5618 26.4527H19.6701L16.1875 23.4141H14.5607C13.6449 23.4113 12.7677 23.0449 12.122 22.3955C11.4762 21.7461 11.1149 20.8669 11.1173 19.9511C11.1149 19.0353 11.4762 18.156 12.122 17.5066C12.7677 16.8572 13.6449 16.4909 14.5607 16.4881H19.6713Z" fill="#F04D1A"/>
              <circle cx="18.5" cy="18.4609" r="17.9609" fill="#F04D1A"/>
              <g clipPath="url(#clip1_70_5144)">
                <path d="M14.9978 16.4979H13.9981C13.5562 16.4979 13.1325 16.3224 12.82 16.0099C12.5076 15.6975 12.332 15.2737 12.332 14.8318C12.332 14.39 12.5076 13.9662 12.82 13.6538C13.1325 13.3413 13.5562 13.1658 13.9981 13.1658H14.9978" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M22.9961 16.4979H23.9957C24.4376 16.4979 24.8614 16.3224 25.1738 16.0099C25.4863 15.6975 25.6618 15.2737 25.6618 14.8318C25.6618 14.39 25.4863 13.9662 25.1738 13.6538C24.8614 13.3413 24.4376 13.1658 23.9957 13.1658H22.9961" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M13.666 25.1615H24.3289" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M17.6634 20.2699V21.8293C17.6634 22.1959 17.3501 22.4824 17.0169 22.6357C16.2305 22.9956 15.6641 23.9886 15.6641 25.1615" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M20.3301 20.2699V21.8293C20.3301 22.1959 20.6433 22.4824 20.9765 22.6357C21.7629 22.9956 22.3294 23.9886 22.3294 25.1615" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
                <path d="M22.9952 11.8329H14.998V16.4979C14.998 17.5584 15.4193 18.5754 16.1692 19.3253C16.9191 20.0752 17.9361 20.4965 18.9966 20.4965C20.0571 20.4965 21.0742 20.0752 21.824 19.3253C22.5739 18.5754 22.9952 17.5584 22.9952 16.4979V11.8329Z" stroke="white" strokeWidth="1.33286" strokeLinecap="round" strokeLinejoin="round"/>
              </g>
            </g>
            <defs>
              <clipPath id="clip0_70_5144">
                <rect width="37" height="37" fill="white"/>
              </clipPath>
              <clipPath id="clip1_70_5144">
                <rect width="15.9943" height="15.9943" fill="white" transform="translate(11 10.5)"/>
              </clipPath>
            </defs>
          </svg>
          <span className="font-semibold text-sm leading-6 tracking-[-0.01em] text-[#000000]" style={{ fontFamily: 'Inter' }}>
            Rating
          </span>
        </div>
        <span className="font-bold text-lg leading-[27px] text-right text-[#101010]" style={{ fontFamily: 'Manrope' }}>
          {stats.rating.toLocaleString()}
        </span>
      </div>

      {/* Progress Bar Section */}
      <div className="px-[27px] pt-[14px]">
        {/* Progress Bar */}
        <div className="w-[348px] h-2 rounded-full mb-[10px]" style={{ backgroundColor: '#F0F0F0' }}>
          <div
            className="h-2 rounded-full transition-all duration-500"
            style={{
              width: `${stats.accuracy}%`,
              backgroundColor: '#6366F1'
            }}
          />
        </div>

        {/* Labels */}
        <div className="w-[348px] flex justify-between">
          <span className="font-semibold text-sm leading-6 tracking-[-0.01em]" style={{ fontFamily: 'Inter', color: '#6366F1' }}>
            Accuracy: {stats.accuracy}%
          </span>
          <span className="font-semibold text-sm leading-6 tracking-[-0.01em]" style={{ fontFamily: 'Inter', color: '#A7ACB0' }}>
            Avg. Time: {formatTime(averageTime || 0)}
          </span>
        </div>
      </div>
    </div>
  );
};

export default SessionStats;
